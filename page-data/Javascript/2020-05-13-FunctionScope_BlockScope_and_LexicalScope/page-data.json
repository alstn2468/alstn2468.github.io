{"componentChunkName":"component---src-templates-blog-post-js","path":"/Javascript/2020-05-13-FunctionScope_BlockScope_and_LexicalScope","result":{"data":{"site":{"siteMetadata":{"title":"Minsu's Dev Log","author":"Minsu Kim","siteUrl":"https://alstn2468.github.io","comment":{"disqusShortName":"","utterances":"alstn2468/alstn2468.github.io"},"sponsor":{"buyMeACoffeeId":"eMLdEwU"}}},"markdownRemark":{"id":"e4bf7d7b-1231-582d-b9e9-8168d74d7a81","excerpt":"33-js-concepts를 스터디하며 정리한 포스트 입니다. 범위 (Scope)란? 프로그램 언어에서 범위 (Scope)는 변수의 접근 가능과, 생존 기간을 뜻한다.\n범위 (Scope)는 크게 전역 범위(Global Scope), 지역 범위(Local Scope)가 존재한다.\n전역 범위(Global Scope)는 코드 전체에서 참조 가능한 것을 의미하고\n지역 범위(Local Scope…","html":"<p><a href=\"https://github.com/leonardomso/33-js-concepts\">33-js-concepts</a>를 스터디하며 정리한 포스트 입니다.</p>\n<h2 id=\"범위-scope란\" style=\"position:relative;\"><a href=\"#%EB%B2%94%EC%9C%84-scope%EB%9E%80\" aria-label=\"범위 scope란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>범위 (Scope)란?</h2>\n<p>프로그램 언어에서 <strong>범위</strong> (<strong>Scope</strong>)는 변수의 접근 가능과, 생존 기간을 뜻한다.<br/>\n<strong>범위</strong> (<strong>Scope</strong>)는 크게 <strong>전역 범위</strong>(<strong>Global Scope</strong>), <strong>지역 범위</strong>(<strong>Local Scope</strong>)가 존재한다.<br/>\n<strong>전역 범위</strong>(<strong>Global Scope</strong>)는 코드 전체에서 참조 가능한 것을 의미하고<br/>\n<strong>지역 범위</strong>(<strong>Local Scope</strong>)는 정해진 코드 부분에서만 참조 가능한 것을 의미한다.<br/></p>\n<h2 id=\"자바스크립트에서의-범위의-특징\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-%EB%B2%94%EC%9C%84%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"자바스크립트에서의 범위의 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트에서의 범위의 특징</h2>\n<ul>\n<li>변수의 범위는 <strong>함수 단위</strong>다.</li>\n<li>스크립트 실행시 <strong>함수 범위의 변수 선언</strong>은 <strong>호이스팅</strong>이 이루어진다.<br/></li>\n<li>스크립트 실행시 <strong>변수 관리</strong>는 <strong>렉시컬 영역</strong>을 기준으로 한다.<br/></li>\n<li>스크립트 실행시 <strong>변수 검색</strong>은 <strong>스코프 체인</strong>을 이용한다.<br/></li>\n</ul>\n<h3 id=\"함수-범위-function-scope\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%EB%B2%94%EC%9C%84-function-scope\" aria-label=\"함수 범위 function scope permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 범위 (Function Scope)</h3>\n<p><strong>함수 범위</strong>(<strong>Function Scope</strong>)는 <strong>함수 내부</strong>에서 <strong>변수를 선언</strong> 했을 경우에 해당한다.<br/>\n<strong>함수 내부</strong>에서 <strong>선언된 변수</strong>는 <strong>함수 내부</strong>에서만 <strong>접근</strong>이 <strong>가능</strong>하다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">functionScopeTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> inCondition <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>inCondition<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 2;</span>\n\n  <span class=\"token keyword\">return</span> inCondition\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">c</code>, <code class=\"language-text\">c++</code>과 같은 프로그래밍 언어는 변수의 유효 범위가 블록 범위다.<br/>\n따라서 <code class=\"language-text\">if</code>문에서 선언된 <code class=\"language-text\">inCondition</code>변수를 참조할 수 없어 에러가 발생할 것이다.<br/>\n하지만 자바스크립트는 <strong>변수의 범위</strong>가 <strong>함수 단위</strong>이기 때문에 문제가 발생하지 않는다.<br/></p>\n<h3 id=\"중복-가능한-변수-선언\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EB%B3%B5-%EA%B0%80%EB%8A%A5%ED%95%9C-%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8\" aria-label=\"중복 가능한 변수 선언 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중복 가능한 변수 선언</h3>\n<p>자바스크립트에서는 <code class=\"language-text\">var</code>키워드를 사용해 변수를 선언할 경우 <strong>중복된 변수명</strong> 사용이 가능하다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> duplicatedVariable <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">duplicatedVariableTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> duplicatedVariable <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n  <span class=\"token keyword\">var</span> duplicatedVariable <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'duplicatedVariable :'</span><span class=\"token punctuation\">,</span> duplicatedVariable<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">duplicatedVariableTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// duplicatedVariable : 3</span></code></pre></div>\n<p>실질적으로 참조되는 변수값은 가장 <strong>가까운 범위</strong>의 <strong>변수</strong>를 <strong>참조</strong>하게 된다.<br/></p>\n<h3 id=\"var키워드-없이-선언-가능한-변수\" style=\"position:relative;\"><a href=\"#var%ED%82%A4%EC%9B%8C%EB%93%9C-%EC%97%86%EC%9D%B4-%EC%84%A0%EC%96%B8-%EA%B0%80%EB%8A%A5%ED%95%9C-%EB%B3%80%EC%88%98\" aria-label=\"var키워드 없이 선언 가능한 변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>var키워드 없이 선언 가능한 변수</h3>\n<p>또한 변수를 선언할 때 <code class=\"language-text\">var</code>나 <code class=\"language-text\">let</code>같은 키워드 없이 변수 선언이 가능하다.<br/>\n키워드가 없이 선언된 변수는 <code class=\"language-text\">window</code>객체의 변수로 <strong>전역 변수</strong>로 사용 가능하다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">noKeywordVariableTestOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  noKeywordVariable <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'noKeywordVariable (1) :'</span><span class=\"token punctuation\">,</span> noKeywordVariable<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">noKeywordVariableTestTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'noKeywordVariable (2) :'</span><span class=\"token punctuation\">,</span> noKeywordVariable<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">noKeywordVariableTestOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//noKeywordVariable (1) : 1</span>\n<span class=\"token function\">noKeywordVariableTestTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// noKeywordVariable (2) : 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>noKeywordVariable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span></code></pre></div>\n<p><code class=\"language-text\">window.noKeywordVariable</code>과 같이 접근이 가능한 것을 확인할 수 있다.<br/></p>\n<h3 id=\"호이스팅-hoisting\" style=\"position:relative;\"><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-hoisting\" aria-label=\"호이스팅 hoisting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>호이스팅 (Hoisting)</h3>\n<p><strong>호이스팅</strong>(<strong>Hoisting</strong>)이라는 단어를 직역하면 끌어올리기, 들어 올려 나르기라는 뜻이다.<br/>\n자바스크립트에서의 <strong>호이스팅</strong>은 <strong>변수 선언문</strong>을 <strong>끌어올리는 역할</strong>을 한다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hoistingTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'variable :'</span><span class=\"token punctuation\">,</span> variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// variable : undefined</span>\n\n  <span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'variable :'</span><span class=\"token punctuation\">,</span> variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// variable : 1</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 코드에서 <code class=\"language-text\">hostingTest</code>함수 내부의 첫번째 콘솔 출력 전에는 <code class=\"language-text\">varibale</code>이 선언되지 않았다.<br/>\n자바스크립트에서는 위와 같은 코드를 아래와 같이 <strong>호이스팅</strong>을 통해 <strong>변수 선언문을 위로</strong> 올린다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hoistingTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> variable\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'variable :'</span><span class=\"token punctuation\">,</span> variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// variable : undefined</span>\n\n  variable <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'variable :'</span><span class=\"token punctuation\">,</span> variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// variable : 1</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"렉시컬-범위-lexical-scope\" style=\"position:relative;\"><a href=\"#%EB%A0%89%EC%8B%9C%EC%BB%AC-%EB%B2%94%EC%9C%84-lexical-scope\" aria-label=\"렉시컬 범위 lexical scope permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렉시컬 범위 (Lexical Scope)</h3>\n<p><strong>렉시컬 범위</strong>는 <strong>함수의 실행</strong> 시 범위를 <strong>함수 정의 단계의 범위</strong>로 참조하는 특성이다.<br/>\n아래 코드에서 <code class=\"language-text\">lexicalScopeTestOne</code>함수의 첫번째 <code class=\"language-text\">console.log</code>에서 <code class=\"language-text\">variable</code>을 참조하려한다.<br/>\n첫번째 출력에는 <code class=\"language-text\">variable</code>이 아직 선언되지 않았지만 <strong>호이스팅</strong>되어 <code class=\"language-text\">undefined</code>가 된다.<br/>\n그 후 <code class=\"language-text\">variable</code>에 <code class=\"language-text\">\"local\"</code>이라는 값이 대입되어 두번째 출력문은 정상적으로 출력이 된다.<br/>\n여기서 참조한 <code class=\"language-text\">variable</code>은 함수 내부에서 정의된 값이다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'global'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">lexicalScopeTestOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// undefined</span>\n\n  <span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'local'</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// local</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">lexicalScopeTestTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>variable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// global</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">lexicalScopeTestOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">lexicalScopeTestTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">lexicalScopeTestTwo</code>함수는 전역에 선언되어 있다.<br>\n<code class=\"language-text\">lexicalScopeTestTwo</code>함수가 정의된 시점의 상위 범위는 <strong>전역 범위</strong>다.<br/>\n또한 내부에서 <code class=\"language-text\">variable</code>이 선언되지 않았으므로 <strong>호이스팅</strong>이 발생하지 않고 전역 변수를 참조한다.<br/></p>\n<h3 id=\"스코프-체인-scope-chain\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B2%B4%EC%9D%B8-scope-chain\" aria-label=\"스코프 체인 scope chain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스코프 체인 (Scope Chain)</h3>\n<p>자바스크립트 <strong>함수 객체</strong>에 <strong>유효 범위</strong>를 나타내는 <strong>스코프</strong>가 <code class=\"language-text\">[[Scope]]</code> 프로퍼티로 존재한다.<br/>\n<code class=\"language-text\">[[Scope]]</code>는 함수 객체에서 <strong>연결리스트 형식</strong>으로 관리된다.<br/>\n각각의 함수는 <code class=\"language-text\">[[Scope]]</code> 프로퍼티로 실행 컨텍스트의 <strong>스코프 체인</strong>을 참조하게 된다.<br/>\n실행 컨텍스트는 함수가 실행 되는 순간 만들어 진다.<br/>\n또 실행 컨텍스트는 실행된 함수의 <code class=\"language-text\">[[Scope]]</code>를 기반으로 새로운 <strong>스코프 체인</strong>을 만든다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'one'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">scopeChainTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'two'</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">returnVariable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> variable\n  <span class=\"token punctuation\">}</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">returnVariable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// two</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">scopeChainTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 코드의 실행 컨텍스트는 아래와 같다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsUlEQVQoz11TCW7CQBDL/78GCBA3QpwhN7kvAolrr0rVNtJoN+NZj9eTWEVRwPd93G43E57nIcsy1HUN13VxPp9xvV5/cOWEhWHI/A2Xy+UPZulwmqaIoggPxeOBlLmiLBHwUBAE5rDyqlFOWMIz2ofEhSlUa0mdVNZVjbZtkWc5AsdBoSZUWwqjorqqkOfEWF8Se3DNuDZNg+qDiTCOY+iRqpAKeu6L+x3Veo3kdPrBpObNfU6iarVGdjxieL+NPSIahgHisiS9o9zzYgF7u0XJAzWJG+ZjFncsuiyXBqt4sCZxy3xCRSJ5vV54Pp+msSFU93S/hz2bwV2tEO92yGh0wQPCSirxSOgwVJdzQLLhM7iu60yIVD5amkxIVRHjzmLf9eBThTzRMDz66XCCvlZaYctfEuqa+iLuzCkc4QxLL1HEKVHulgpUpKmXnOSJHm42G0ypfjyZYDqdYk1vRajPSdh4NMKE2Hg8wYo3tORD3/cY+t74oPePN+qYJIlRe+TV9dmITM1EuKeAJa2Yz+dm3e32sPDrEdH/dzXrv5t99mpm27YZgm5zOBz4cwTG1y/m2/AVvzadBAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1\" title=\"1\" src=\"/static/e3d2f5db78b171219439347f588eb180/0a47e/1.png\" srcset=\"/static/e3d2f5db78b171219439347f588eb180/8a4e8/1.png 150w,\n/static/e3d2f5db78b171219439347f588eb180/5a46d/1.png 300w,\n/static/e3d2f5db78b171219439347f588eb180/0a47e/1.png 600w,\n/static/e3d2f5db78b171219439347f588eb180/1cfc2/1.png 900w,\n/static/e3d2f5db78b171219439347f588eb180/4cdf7/1.png 995w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>함수가 실행 될 때마다 <code class=\"language-text\">[[Scope]]</code>가 연결리스트 처럼 연결된다.<br/>\n<code class=\"language-text\">returnVariable</code>에서는 아래와 같은 <code class=\"language-text\">[[Scope]]</code>를 가지게 된다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 377px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACT0lEQVQ4y2VTaZPSQBDN//8P6xerLBer1D3Y0gXcXRZw5VCBcCcBEsKdQDg/cDz7DaCoU9WZTk8fr1/PaL7vYzqdYjKZYDgcKn2xWGI+n8u+UEJ9ufxjW61WmM1myrZer1Qs47g0w2jAcWy4bhfVahWDwQDFYgH1egMlXRe9iHKlgh/fc6jIns1m8RyPo1ar4enpAffRGDquC8MwsNvtoPV7PZimAc/zMej34Xse7sI3+PLwiK+pFCL3n/GcSOL66gpxSZRIJuT8FqbVRLlUROwxjmkQoNPpYLvdQqPCVvuSrNlsYjgagTSMx2O1+9KO1+3CFz9P/j0pSPtI+U1Uu4ztio9qmZzQgQeBVPKPQZQJ7cKTn8kgkFZ98aWNfuTswPdCxZJXldCyzANC4Y4c0sk/BrmCqid2z3HQljNPAnuCxDBNOLatOsrn89Kuq/T9fg+NQyBvQTCTxANUyjrC4TuELt8qHsM31/gUiSL58oKPH94jk04j9C6EtOwczMWrCylgKVCbzQYajbZUa7VaaqJETKS6Tt2SadfRaDRgi1TFlzZDdFNQujJdzoCxnLJqmR+Om3C5Dt/jOtqEdexLpYNJfE+LceexKiGrs1K73UZJghzyJfpJHOHMEeROLgdbdNft/PZhZxTqRK4SjkZDaamOmbwC8vnv6rRbiMSiyPzMI/sthddvLtETvv7zk9bVxSZH5MS2HeFNV/eLiSnUyWlZkBOBJbzlCwWF6NyPwjxqyufvlFeFb/Qk/Oc9Wy5Xx3fNt7vGYr74y5c6c3D9Anz5vaYDZ+fGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"2\" title=\"2\" src=\"/static/da0e1b3eb2237468e0231dda694990e6/6146e/2.png\" srcset=\"/static/da0e1b3eb2237468e0231dda694990e6/8a4e8/2.png 150w,\n/static/da0e1b3eb2237468e0231dda694990e6/5a46d/2.png 300w,\n/static/da0e1b3eb2237468e0231dda694990e6/6146e/2.png 377w\" sizes=\"(max-width: 377px) 100vw, 377px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>실제 크롬 개발자 도구를 이용해 <code class=\"language-text\">[[Scope]]</code>를 확인해 보았다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 599px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTUlEQVQoz6WS6W7DIBCE/f6PmR9xbGPuy1zThTpRU6VqqiKNgQUWxt9OaEAUEcEeiCnha2vnt7X7+Pc2lVTgdg8vNA4pEPmOaDQlqWeyZ40r2s/ppxgizGLhmcN+26GZgNUWykaU8nzwe/JXmlJMkBcFPRvITYPNDFxYzCLBhYJaSaWilfKm5VyguQbfOZRWWLcV27ZBCg5Nc7bv9GINxzmsJSfeDwVyFkOi3sM5N2KFLp28j1jnDcu8YLnNENIiHhlHjDiOAzlnZNrY+z6PZzylPNTH9/hI2GpD4AHeEGla+G+baq5kh57dKQsxSB/OvgXgJZRO2a70D5jFTkA044OycZGAtD+97kFZXCTU1UCsBOHKIITDlXfKedTj/fZa6wuVx/iTMpWEkw5aahgqaEGWlVIk+aAaQhgkNdHua5r2Odvpkjtrzv2KICV8AP43XZbRB9TzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"3\" title=\"3\" src=\"/static/5e39ed46e7556a8e9002d9a6036272c1/43142/3.png\" srcset=\"/static/5e39ed46e7556a8e9002d9a6036272c1/8a4e8/3.png 150w,\n/static/5e39ed46e7556a8e9002d9a6036272c1/5a46d/3.png 300w,\n/static/5e39ed46e7556a8e9002d9a6036272c1/43142/3.png 599w\" sizes=\"(max-width: 599px) 100vw, 599px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p><code class=\"language-text\">scopeChainTest</code>함수에서는 <code class=\"language-text\">[[Scope]]</code>로 <code class=\"language-text\">Global</code> 전역 범위를 가지고 있다.<br/>\n<code class=\"language-text\">returnVariable</code>함수에서는 <code class=\"language-text\">0</code>번째로 <code class=\"language-text\">scopeChainTest</code> 다음으로 <code class=\"language-text\">Global</code>을 가지고 있다.<br/>\n따라서 <code class=\"language-text\">returnVariable</code>에서 먼저 참조하게 되는 변수는 <code class=\"language-text\">scopeChainTest</code>내부의 변수다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'one'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">returnVariable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> variable\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">scopeChainTest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">func</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> variable <span class=\"token operator\">=</span> <span class=\"token string\">'two'</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// one</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">scopeChainTest</span><span class=\"token punctuation\">(</span>returnVariable<span class=\"token punctuation\">)</span></code></pre></div>\n<p>바뀐 코드에서 <code class=\"language-text\">returnVariable</code>함수가 참조하는 <code class=\"language-text\">[[Scope]]</code>는 <code class=\"language-text\">Global</code>이 될 것이다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABNElEQVQoz51SyXbEIAzL//9mJ5MFEvYtQFRD0+mhl8n4PWPwQbYkhhAStmUHnznmeYJQFrmC4sR5nui3q74TQzuiiHAqIMV0tf8A7oB1wFor3O7hhSVgAcdWeClQa+lg5wX6bg455w4YVYKWFk5beBehbEIuFXdjqKVAPw3UQ0MuCuzBIDaNeScZwtE3LeUn2/CWv+9CA0vJr35jOwTSjZEh0zhhIlPG5wMrFzDGIHgH72n7GBFCgLW2951zlCSTT1Ttq99ALw0drHDQxuJok058HN1lvwc46XAQYKWNCm10x4h/pnhJX0YTJb5BcwavFFKKXZOPAM1MOsweihNtbmBNwiIz4nGf+9DckpMCHzfwhWP8IlNWBrYJ0tR00ZshzRyt6SdI2Q0wJI+zkarufUWs2nLfqRVeSqgGIYAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"4\" title=\"4\" src=\"/static/c2fa03e69b4748481e39cc3a3362fdb3/0a47e/4.png\" srcset=\"/static/c2fa03e69b4748481e39cc3a3362fdb3/8a4e8/4.png 150w,\n/static/c2fa03e69b4748481e39cc3a3362fdb3/5a46d/4.png 300w,\n/static/c2fa03e69b4748481e39cc3a3362fdb3/0a47e/4.png 600w,\n/static/c2fa03e69b4748481e39cc3a3362fdb3/ef9e5/4.png 607w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>개발자 도구에서 확인해 보면 두 함수 모드 <code class=\"language-text\">Global</code>만 범위로 가지고 있다.<br/>\n두 함수 모두 <strong>전역 범위에서 정의</strong>되었기 때문에 <strong>자신의 변수 객체</strong>와 <code class=\"language-text\">Global</code>만 갖게 된다.<br/></p>\n<h2 id=\"블록-범위-block-scope\" style=\"position:relative;\"><a href=\"#%EB%B8%94%EB%A1%9D-%EB%B2%94%EC%9C%84-block-scope\" aria-label=\"블록 범위 block scope permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>블록 범위 (Block Scope)</h2>\n<p>자바스크립트는 기본적으로 함수를 범위로 한다.<br/>\n하지만 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>키워드를 사용할 경우 <strong>블록 범위</strong>를 갖는다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">usingVarKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 3</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">usingLetKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ERROR!</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 <code class=\"language-text\">for-loop</code>내부에서 각각 <code class=\"language-text\">var</code>과 <code class=\"language-text\">let</code>키워드를 이용해 <code class=\"language-text\">i</code>를 선언했다.<br/>\n<code class=\"language-text\">var</code>키워드를 사용한 함수에서는 <code class=\"language-text\">i</code>의 값이 <code class=\"language-text\">3</code>으로 출력되었다.<br/>\n그러나 <code class=\"language-text\">let</code>키워드를 사용한 함수에서는 <code class=\"language-text\">i</code>가 정의되지 않았다는 에러가 발생했다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 299px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 16%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAArUlEQVQI1z1OywqCUBS8FirkA8W37qNNmBtpZRTRUy0qXET//xvTHIkWc89hzjyuqh0HfRShDQK80hR718WV+43c0fPQhSFOvj+iNgysTRONZY23Lb3ia3/6ajqFWmgaSl3HmcYL0ScJnnmOO8MfWYahKNBSvGGRaIQXTuaOoeJp4xgNw+dKQS35lMSZx51tY6DwQ8OboR2bDwzqOZvZDCuWV5PJH6V8RjhCcgRfhgpSQFKi+I0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"5\" title=\"5\" src=\"/static/f962d94ad8b68ab8995191800c3f44ff/aeb78/5.png\" srcset=\"/static/f962d94ad8b68ab8995191800c3f44ff/8a4e8/5.png 150w,\n/static/f962d94ad8b68ab8995191800c3f44ff/aeb78/5.png 299w\" sizes=\"(max-width: 299px) 100vw, 299px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p><code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>키워드를 사용할 경우 <strong>괄호의 범위</strong> 안에서만 접근이 가능하다.<br/></p>","frontmatter":{"title":"함수 범위, 블록 범위, 렉시컬(lexical) 범위","date":"May 13, 2020","thumbnail":null}}},"pageContext":{"slug":"/Javascript/2020-05-13-FunctionScope_BlockScope_and_LexicalScope/","previous":{"fields":{"slug":"/Javascript/2020-05-12-==-vs-===vs-typeof/"},"frontmatter":{"title":"== vs === vs typeof","category":"Javascript","draft":false}},"next":{"fields":{"slug":"/Javascript/2020-05-14-Expression_vs_Statement/"},"frontmatter":{"title":"식(expression) vs 문(statement)","category":"Javascript","draft":false}}}},"staticQueryHashes":["3001444076","3128451518"]}