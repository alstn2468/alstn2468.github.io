{"componentChunkName":"component---src-templates-blog-post-js","path":"/Javascript/2020-06-29-setTimeout_setInterval_requestAnimationFrame","result":{"data":{"site":{"siteMetadata":{"title":"Minsu's Dev Log","author":"Minsu Kim","siteUrl":"https://alstn2468.github.io","comment":{"disqusShortName":"","utterances":"alstn2468/alstn2468.github.io"},"sponsor":{"buyMeACoffeeId":"eMLdEwU"}}},"markdownRemark":{"id":"8c218f83-ab7e-5b42-8d21-d5007417d486","excerpt":"33-js-concepts를 스터디하며 정리한 포스트 입니다. 자바스크립트에서의 스케쥴링 자바스크립트에서는 스케쥴링을 위한 타이머 함수가 존재한다.\n사용가능한 타이머 함수와 타이머 함수의 기능은 아래와 같다. 함수 이름 기능 setTimeout(fn, timeout) 일정 시간 후 fn으로 받은 함수를 실행한다. setInterval(fn, interval) fn으로 받은 함수를 일정 시간마다 실행한다. clearTimeout(id) 실행되고 있는 id값의 timeout…","html":"<p><a href=\"https://github.com/leonardomso/33-js-concepts\">33-js-concepts</a>를 스터디하며 정리한 포스트 입니다.</p>\n<h2 id=\"자바스크립트에서의-스케쥴링\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81\" aria-label=\"자바스크립트에서의 스케쥴링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트에서의 스케쥴링</h2>\n<p>자바스크립트에서는 <strong>스케쥴링</strong>을 위한 <strong>타이머 함수</strong>가 존재한다.<br/>\n사용가능한 <strong>타이머 함수</strong>와 <strong>타이머 함수</strong>의 기능은 아래와 같다.<br/></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">함수 이름</th>\n<th align=\"center\">기능</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">setTimeout(fn, timeout)</td>\n<td align=\"center\">일정 시간 후 fn으로 받은 함수를 실행한다.</td>\n</tr>\n<tr>\n<td align=\"center\">setInterval(fn, interval)</td>\n<td align=\"center\">fn으로 받은 함수를 일정 시간마다 실행한다.</td>\n</tr>\n<tr>\n<td align=\"center\">clearTimeout(id)</td>\n<td align=\"center\">실행되고 있는 id값의 timeout을 중지</td>\n</tr>\n<tr>\n<td align=\"center\">clearInterval(id)</td>\n<td align=\"center\">실행되고 있는 id값의 interval을 중지</td>\n</tr>\n</tbody>\n</table>\n<p><strong>타이머 함수</strong>는 함수를 당장 실행하지 않고 <strong>일정 시간 후 실행</strong>하고자 할 때 사용한다.<br/>\n이와 같은 상황을 <strong>호출 스케쥴링</strong>(scheduling a call)이라고 한다.<br/>\n<strong>타이머 함수</strong>는 자바스크립트의 스펙이 아닌 <strong>브라우저</strong>와 <code class=\"language-text\">node.js</code>에서 제공한다.<br/></p>\n<h2 id=\"settimeout\" style=\"position:relative;\"><a href=\"#settimeout\" aria-label=\"settimeout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout</h2>\n<h3 id=\"settimeout함수의-기본-문법\" style=\"position:relative;\"><a href=\"#settimeout%ED%95%A8%EC%88%98%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95\" aria-label=\"settimeout함수의 기본 문법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout함수의 기본 문법</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">|</span>code<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>delay<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>arg1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>arg2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"settimeout함수의-파라미터\" style=\"position:relative;\"><a href=\"#settimeout%ED%95%A8%EC%88%98%EC%9D%98-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0\" aria-label=\"settimeout함수의 파라미터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout함수의 파라미터</h3>\n<ul>\n<li><code class=\"language-text\">func|code</code></li>\n</ul>\n<p><code class=\"language-text\">setTimeout</code>에서 실행을 할 <strong>함수</strong>나 <strong>문자열</strong>을 받는다.<br/>\n주로 <strong>함수</strong>를 받으나 코드의 <strong>문자열</strong>도 받을 수 있지만 <strong>권장 사항은 아니다</strong>.<br/></p>\n<ul>\n<li><code class=\"language-text\">delay</code></li>\n</ul>\n<p>파라미터로 받은 <code class=\"language-text\">func|code</code>를 실행하기전 딜레이를 의미한다.<br/>\n<code class=\"language-text\">ms</code>단위로 이루어져 있으며 <code class=\"language-text\">1000ms</code>는 <code class=\"language-text\">1s</code>와 같다.<br/>\n기본 설정 값은 <code class=\"language-text\">0</code>이 들어있다.<br/></p>\n<ul>\n<li><code class=\"language-text\">arg1</code>, <code class=\"language-text\">arg2</code> …</li>\n</ul>\n<p>함수에 대한 인자를 의미한다. (IE9 아래의 버전에서는 지원하지 않는다.)<br/></p>\n<h3 id=\"settimeout-예시\" style=\"position:relative;\"><a href=\"#settimeout-%EC%98%88%EC%8B%9C\" aria-label=\"settimeout 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout 예시</h3>\n<ul>\n<li>인자가 없는 함수</li>\n</ul>\n<p>1초 뒤에 <code class=\"language-text\">sayHello()</code>를 호출하는 코드를 아래와 같이 작성할 수 있다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>sayHello<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 코드를 실행시켜보면 약 1초뒤에 <code class=\"language-text\">Hello!</code>라는 alert이 보이게 된다.<br/></p>\n<ul>\n<li>인자가 있는 함수</li>\n</ul>\n<p>함수에 인자가 있는 경우 <code class=\"language-text\">arg1</code>, <code class=\"language-text\">arg2</code> …를 이용해 함수에 인자를 전달할 수 있다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello '</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>sayHello<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Minsu'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>넘겨준 <code class=\"language-text\">Minsu</code>라는 인자가 <code class=\"language-text\">sayHello</code>함수에 잘 전달되는 것을 확인할 수 있다.<br/></p>\n<ul>\n<li>함수 대신에 문자열을 넘겼을 때</li>\n</ul>\n<p><code class=\"language-text\">func|code</code>인자에서 함수가 아닌 <strong>문자열이 들어가게 될 경우도 작동</strong>한다.<br/>\n자바스크립트는 <strong>문자열을 통해 함수를 만들어내 실행</strong>하게 된다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token string\">'alert(\"Hello\")'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>정상적으로 작동하지만 권장되는 방식은 아니다.<br/></p>\n<h3 id=\"settimeout-사용-시-유의사항\" style=\"position:relative;\"><a href=\"#settimeout-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%9C%A0%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"settimeout 사용 시 유의사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout 사용 시 유의사항</h3>\n<p><code class=\"language-text\">setTimeout</code>의 인자로 함수를 넘겨주어야 한다.<br/>\n하지만 함수를 넘겨주어야 하지만 아래와 같이 함수를 실행해서는 안된다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Wrong!</span></code></pre></div>\n<p>위의 코드는 작동하지 않는다. <code class=\"language-text\">setTimeout</code>함수는 <strong>함수의 참조</strong>를 받는다.<br/>\n함수를 실행한다면 <code class=\"language-text\">sayHello</code>함수의 반환값은 <code class=\"language-text\">undefined</code>가 되어 스케쥴이 되지 않는다.<br/></p>\n<h3 id=\"cleartimeout으로-스케쥴-취소하기\" style=\"position:relative;\"><a href=\"#cleartimeout%EC%9C%BC%EB%A1%9C-%EC%8A%A4%EC%BC%80%EC%A5%B4-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0\" aria-label=\"cleartimeout으로 스케쥴 취소하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>clearTimeout으로 스케쥴 취소하기</h3>\n<p><code class=\"language-text\">setTimeout</code>을 호출하면 반환 값으로 우리가 실행한 <code class=\"language-text\">setTimeout</code>의 <code class=\"language-text\">timerId</code>를 반환한다.<br/>\n스케쥴을 취소하기 위해서는 <code class=\"language-text\">clearTimeout</code>함수를 사용한다.<br/></p>\n<ul>\n<li><code class=\"language-text\">clearTimeout</code> 기본 문법</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">timerId</code>를 <code class=\"language-text\">clearTimeout</code>에 넘겨줌으로 써 스케쥴을 취소할 수 있다.<br/></p>\n<ul>\n<li><code class=\"language-text\">clearTimeout</code> 예시</li>\n</ul>\n<p>아래의 코드를 실행시키면 알 수 있듯이 브라우저에서의 <code class=\"language-text\">timerId</code>는 <code class=\"language-text\">Number</code>다.\n<code class=\"language-text\">node.js</code>에서는 추가적인 메소드를 제공하고 <code class=\"language-text\">timer object</code>를 반환한다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Nothing happens...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">1000ms</code>뒤에 실행시키기로 했던 스케쥴이 <code class=\"language-text\">clearTimeout</code>을 통해 취소된 것을 확인할 수 있다.<br/>\n2번째 줄의 <code class=\"language-text\">alert</code>으로 확인한 <code class=\"language-text\">timerId</code>와 <code class=\"language-text\">clearTimeout</code>후에 확인한 <code class=\"language-text\">timerId</code>가 동일하다.<br/>\n스케쥴을 취소하더라도 <code class=\"language-text\">timerId</code>가 <code class=\"language-text\">null</code>이 되지는 않는다.<br/></p>\n<h2 id=\"setinterval\" style=\"position:relative;\"><a href=\"#setinterval\" aria-label=\"setinterval permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setInterval</h2>\n<h3 id=\"setinterval함수의-기본-문법\" style=\"position:relative;\"><a href=\"#setinterval%ED%95%A8%EC%88%98%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95\" aria-label=\"setinterval함수의 기본 문법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setInterval함수의 기본 문법</h3>\n<p><code class=\"language-text\">setInterval</code>함수는 <code class=\"language-text\">setTimeout</code>과 동일한 문법을 갖는다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">|</span>code<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>delay<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>arg1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>arg2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>모든 인자들은 <code class=\"language-text\">setTimeout</code>과 동일한 의미를 갖는다.<br/>\n다른점은 <code class=\"language-text\">setTimeout</code>함수는 인자로 받은 함수를 한 번만 실행한다.<br/>\n<code class=\"language-text\">setInterval</code>함수는 <code class=\"language-text\">delay</code>를 주기로 인자로 받은 함수를 계속 실행한다.<br/>\n스케쥴을 중지하고 싶다면 <code class=\"language-text\">clearInterval</code>함수를 호출해야한다.<br/></p>\n<h3 id=\"setinterval과-clearinterval-예시\" style=\"position:relative;\"><a href=\"#setinterval%EA%B3%BC-clearinterval-%EC%98%88%EC%8B%9C\" aria-label=\"setinterval과 clearinterval 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setInterval과 clearInterval 예시</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tick'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stop'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 예제는 <code class=\"language-text\">2s</code>를 주기로 <code class=\"language-text\">tick</code>이라는 문자열에 콘솔에 출력되게 된다.<br/>\n<code class=\"language-text\">setTimeout</code>을 이용해 <code class=\"language-text\">5s</code>뒤에 <code class=\"language-text\">tick</code>을 출력하는 스케쥴을 중지하고 <code class=\"language-text\">stop</code>을 출력하게 된다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 137px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.715328467153284%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABS0lEQVQoz2WSy6rCUAxF+yMWfNS39S0+q9hqi3NBcCDizP+fb1m5pBTuILJ7kpPslWPQbrfV6XTU7XaFJlz3+/1SD4dD0wT1nmu1WuU9IqjX65rNZsqyTJPJRLvdTpvNRqPRSNvtVvv9Xr1eT8vlUpfLxWoPh4Pu97tut5uez6fdCcPQmgf8cJlmTB0MBhqPx6ZxFcexaVyhyRMMohHNqW82m4qiSIEjExxUkR2Pc5rglCDHWaPREISYoq5EBifPc8MBM0kSTadTXa9XpWlqzdbrta0Fl8fjUe/327A/n4/V12q1P2S6cgFsx6xqgjx1uMMJ3/P5XIvFQqvVyobgmFzgmFVkR3IM9lN9cZzwjYbQ92c75IBJIIPJskFCg8gKaAxyURTmCP16vfR4PPT9fnU+n/8jgwYSLtD+4o7sqL4KBoJ9Op3slf3/+ANTPBa5dtj3jwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1\" title=\"1\" src=\"/static/5525fdfb8888d1b8e2da3e509ebb51cf/2018e/1.png\" srcset=\"/static/5525fdfb8888d1b8e2da3e509ebb51cf/2018e/1.png 137w\" sizes=\"(max-width: 137px) 100vw, 137px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>위와 같이 2초 주기로 <code class=\"language-text\">tick</code>이 출력되었고 5초뒤에 <code class=\"language-text\">stop</code>이 출력되는 것을 볼 수 있다.<br/></p>\n<h2 id=\"재귀적인-settimeout\" style=\"position:relative;\"><a href=\"#%EC%9E%AC%EA%B7%80%EC%A0%81%EC%9D%B8-settimeout\" aria-label=\"재귀적인 settimeout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>재귀적인 setTimeout</h2>\n<p>주기적으로 무언가를 실행시키는 방법은 <code class=\"language-text\">setInterval</code>외에도 <strong>재귀적</strong>으로 <code class=\"language-text\">setTimeout</code>을 사용할 수 있다.<br/>\n아래와 같이 <strong>재귀적</strong>으로 <code class=\"language-text\">setTimeout</code>을 사용할 수 있다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">tick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tick'</span><span class=\"token punctuation\">)</span>\n  timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>tick<span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 <code class=\"language-text\">setTimeout</code>은 현재 실행중인 것이 종료되면 3번째 줄을 스케쥴한다.<br/>\n<strong>재귀적</strong>인 <code class=\"language-text\">setTimeout</code>은 <code class=\"language-text\">setInterval</code>보다 유연하다.<br/>\n예를 들어 서버에 5초마다 데이터를 요청하는 프로그램을 작성하고자 한다고 가정해보자.<br/>\n서버에 요청이 너무 많을 경우 계속 요청을 보내기 보다는 주기를 늘리는 것이 바람직할 것 이다.<br/>\n아래와 같이 <strong>재귀적</strong>인 <code class=\"language-text\">setTimeout</code>을 사용해 코드를 작성할 수 있을 것 이다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> delay <span class=\"token operator\">=</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">sendRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span> Send Request <span class=\"token operator\">...</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>to many request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        delay <span class=\"token operator\">*=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    timerId <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">setInterval</code>은 설정한 <code class=\"language-text\">delay</code>를 변경할 수 없지만 <code class=\"language-text\">setTimeout</code>을 <strong>재귀적</strong>으로 사용하면 가능하다.<br/>\n또한 <strong>재귀적</strong>인 <code class=\"language-text\">setTimeout</code>은 <code class=\"language-text\">setInterval</code>이 보장하지 못하는 <strong>주기를 보장</strong>할 수 있다.<br/></p>\n<ul>\n<li><code class=\"language-text\">setInterval</code>을 사용할 때</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li><strong>재귀적</strong>인 <code class=\"language-text\">setTimeout</code>을 사용할 때</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>run<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>동일한 기능을 하는 위의 두개의 예제가 존재한다.<br/>\n<code class=\"language-text\">setInterval</code>을 사용할 경우 내부의 스케쥴러가 <code class=\"language-text\">func(i)</code>를 100ms마다 실행한다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 541px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABFklEQVQoz32Si26DMAxF+f8PnGihgIqGFNbwfhe4840ApaVbJIfIx3aca5x1XfHJuD6d//PRHG5d18Fee8Iyz+j7Hm/w4Mzbz/tyuDVNc9ywLMsBZ7F2u8xwYUzfSzRta+Ltrh060jSF1hpFUaCqKoxlKZUkuK6hlUIu/izLDJ+ESweGa8n7eTyQ57nJH4YBDrckSeC6LqIoMkm95wG+j1W+6naDHwTwvCuUSjFJDDau5fx1uSAQ/i01amnAPJlFWJh6UZfZenIpQWT0056WXoV024uPeZSGrzUFx3E8Cb/bNE3noWw6nxg1ZJtxHB/TtAXORTcydvjOStH5fo9fh8bfhgVD0SATYU8FxRf8yTKEYWiGYbNfplG9J3fhhvEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"2\" title=\"2\" src=\"/static/24f6846779bd059ade3f46d6eff6e775/9d576/2.png\" srcset=\"/static/24f6846779bd059ade3f46d6eff6e775/8a4e8/2.png 150w,\n/static/24f6846779bd059ade3f46d6eff6e775/5a46d/2.png 300w,\n/static/24f6846779bd059ade3f46d6eff6e775/9d576/2.png 541w\" sizes=\"(max-width: 541px) 100vw, 541px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>우리가 원하는 함수의 실행주기는 100ms지만 실제 delay는 더 적다.<br/>\n<code class=\"language-text\">func</code>함수가 실행되며 소비되는 시간이 원인이다.<br/>\n여기에서 우리가 작성한 <code class=\"language-text\">func</code>함수가 <code class=\"language-text\">100ms</code>보다 더 걸리면 다음 함수가 바로 실행될 것이다.<br/>\n<strong>재귀적</strong>인 <code class=\"language-text\">setTimeout</code>을 사용할 경우 고정된 delay를 보장할 수 있다.<br/></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 538px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCElEQVQoz3VSYXODIAzl///C3WYr6KnUVb+IoCK+JVzpsOtyx0Hy8h4hQRzHgX3fwcbnfLEx9i7+H09w0FqLkzEYQtzneX6KJIxXeMcjE5xsjIlOIJFt2xCyhIkwzglHgPf+ifE+0WWpQk+8KLiuK5qmgaoUZCkxjCPWtgW6DtAauqpQXK9QSqKh+E6xiNHqpIRUCsVXgWEYY2FiWRbi6UioiTwmQSbebujrOgrWtGvy/SPOeF9XKFm0LGMhxkwQ/Ezn3KkPE/mflNTe73D0gtxmKuDjckHTf8PS+U8P86GweJqssw4rESz1ieNpijyMhS7kIuZHD3M8DiUJ5d/id6jnr/KKvcZ/AGJKbyXKGgWjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"3\" title=\"3\" src=\"/static/a888f8b4fe3b22be66e3ec7d1db6dced/9516f/3.png\" srcset=\"/static/a888f8b4fe3b22be66e3ec7d1db6dced/8a4e8/3.png 150w,\n/static/a888f8b4fe3b22be66e3ec7d1db6dced/5a46d/3.png 300w,\n/static/a888f8b4fe3b22be66e3ec7d1db6dced/9516f/3.png 538w\" sizes=\"(max-width: 538px) 100vw, 538px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>새로운 함수의 호출이 이전에 호출된 함수의 끝에 추가되기 때문이다.<br/></p>\n<h2 id=\"settimeoutfunc-0\" style=\"position:relative;\"><a href=\"#settimeoutfunc-0\" aria-label=\"settimeoutfunc 0 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout(func, 0)</h2>\n<p><code class=\"language-text\">setTimeout(func, 0)</code>이나 <code class=\"language-text\">setTimeout(func)</code>과 같은 코드는 특별하게 사용된다.<br/>\n위의 코드는 <code class=\"language-text\">func</code>함수의 실행을 가능한 빠르게 스케쥴링 한다.<br/>\n하지만 스케쥴러는 현재 진행중인 코드가 모두 끝난뒤에 이 <code class=\"language-text\">func</code>함수를 호출한다.<br/>\n이러한 함수 호출을 <strong>비동기적</strong>으로 실행된다고 한다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 코드의 작동을 확인하면 <code class=\"language-text\">Hello</code>가 먼저 출력이된 후 <code class=\"language-text\">World!</code>가 출력이 된다.<br/>\n이는 Javscript의 <strong>호출 스택</strong>과 <strong>메시지 큐</strong>, <strong>이벤트 루프</strong>와 연관이 있다.<br/>\n<code class=\"language-text\">World</code>를 출력하는 함수는 0ms의 딜레이를 가져 바로 <strong>메시지 큐</strong>에 담기게 된다.<br/>\n이후 <code class=\"language-text\">Hello</code>를 출력하는 함수가 <strong>호출 스택</strong>에 추가되고 이 함수가 호출이 먼저 된다.<br/>\n그 후 <strong>이벤트 루프</strong>가 <strong>호출 스택</strong>이 비어있는 것을 확인해 <strong>메시지 큐</strong>에 담긴 함수를 <strong>호출 스택</strong>에 추가한다.<br/>\n그 후 <code class=\"language-text\">World</code>를 출력하는 함수가 실행되게 된다.<br/></p>\n<h2 id=\"requestanimationframe\" style=\"position:relative;\"><a href=\"#requestanimationframe\" aria-label=\"requestanimationframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>requestAnimationFrame</h2>\n<p>자바스크립트에서 애니메이션을 구현하기 위한 방법으로는 <code class=\"language-text\">new Date()</code>를 사용한 타이머를 이용한다.<br/>\n시작 시점과 종료 시점을 변수에 저장해 반복으로 실행하는 방법이다.<br/>\n이러한 방법은 <strong>호출 스택</strong>이 지나치게 많다는 단점이 존재한다.<br/>\n이러한 경우 필요한 함수가 <code class=\"language-text\">requestAnimationFrame()</code>함수다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">requstAnimationFrame</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">requestAnimationFrame</code>함수는 반복할 함수를 인자로 받는다.<br/>\n<code class=\"language-text\">requestAnimationFrame</code>함수 사용의 장점은 아래와 같다.<br/></p>\n<ul>\n<li>백그라운드 동작 및 비활성화 시 중지</li>\n<li>최대 1ms로 제한되며 1초에 60번 동작</li>\n<li>다수의 애니메이션에도 동일한 타이머를 참조</li>\n</ul>\n<h3 id=\"requstanimationframe-예시\" style=\"position:relative;\"><a href=\"#requstanimationframe-%EC%98%88%EC%8B%9C\" aria-label=\"requstanimationframe 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>requstAnimationFrame 예시</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> start <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">let</span> <span class=\"token function-variable function\">callback</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> ts <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ts <span class=\"token operator\">-</span> <span class=\"token number\">1000</span> <span class=\"token operator\">></span> start<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// console.log('End');</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">,</span> ts<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 코드를 실행시켜보면 1초동안 <code class=\"language-text\">callback</code>함수가 60번으로 제한되어 실행된다.<br/>\n<strong>호출 스택</strong>이 과도하게 커지는 현상을 방지하며 코드를 작성할 수 있게 된다.<br/></p>\n<h3 id=\"requstanimationframe-취소하기\" style=\"position:relative;\"><a href=\"#requstanimationframe-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0\" aria-label=\"requstanimationframe 취소하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>requstAnimationFrame 취소하기</h3>\n<p><code class=\"language-text\">requstAnimationFrame</code>함수를 취소하기 위해서는 <code class=\"language-text\">cancelAnimationFrame</code>함수를 사용한다.<br/>\n<code class=\"language-text\">setTimeout</code>과 <code class=\"language-text\">setInterval</code>함수와 동일하게 사용할 수 있다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> requestId <span class=\"token operator\">=</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">cancelAnimationFrame</span><span class=\"token punctuation\">(</span>requestId<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">requestAnimationFrame</code>함수를 호출하였지만 바로 <code class=\"language-text\">cancelAnimationFrame</code>함수가 사용되었다.<br/>\n따라서 콘솔에는 아무것도 출력되지 않고 코드가 종료되게 된다.<br/></p>","frontmatter":{"title":"setTimeout, setInterval and requestAnimationFrame","date":"June 29, 2020","thumbnail":null}}},"pageContext":{"slug":"/Javascript/2020-06-29-setTimeout_setInterval_requestAnimationFrame/","previous":{"fields":{"slug":"/Javascript/2020-06-24-Messag_Queue_Event_Loop/"},"frontmatter":{"title":"메시지 큐와 이벤트 루프","category":"Javascript","draft":false}},"next":{"fields":{"slug":"/Retrospective/2020-10-05-개발자로서-첫-이직-회고/"},"frontmatter":{"title":"개발자로서 첫 이직 회고","category":"Retrospective","draft":false}}}},"staticQueryHashes":["3001444076","3128451518"]}